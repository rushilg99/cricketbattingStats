# cricketbattingStats
Analysis of batting averages

One of my major passions in life is cricket. I frequently hear people give statements such as "despite the success of Virat Kohli, Steve Smith, Kane Williamson and others, the current generation of batsmen (2010+) aren't as good as batsmen in previous eras (think Tendulkar, Lara, Ponting etc)". This is a statement that I vehemently disagree with, for reasons based on my own experience of playing cricket. Having taking Prof. Martyn Plummer's course at the University of Warwick on Linear Statistical Modelling and having attended a few talks sponsored by the Warwick Statistics Society that mentioned random forests, I was inspired to create a predictive model for batting averages using both random forests and linear models.

This is a rather unusual project because a players' batting average is defined to be equal to the number of runs scored divided by the number of times they weren't out in a test innings - both of these quantities are available in the data set. So why do what I'm doing instead of using some equation discovery algorithm (e.g. through genetic search)? My view is that if I can train a random forest regressor on the batting statistics of cricketers from 1989-2010 that generalises well into the 2010s, it provides evidence that the player statistics from batsmen in the 2010s are drawn from the same theoretical distribution as those collected from 1986-2010. This is because random forests work by (loosely speaking) splitting the dataset (forming decision trees) and averaging the data based on the splits made. A prediction is made on an unseen observation by navigating its way through each splitting criterion in each decision tree in the forest; if the prediction is good, then the unseen player's true batting average aligns closely to those points in the training set that match the same splitting criteria.

Additionally, I hold the prior belief that the data contains clusters; from my own cricketing knowledge, the best batsmen will have a batting average of 50+ and generally have more than 8000 test runs, with a high score of at least 200. However, the vast majority of batsmen will be unremarkable test batsmen and will average around 30 (allrounders may be in this proposed cluster) with 2000-3000 test runs to their name. I also expect a third cluster - bowlers still have to bat and are generally quite poor at it. When I have the time, I will also perform a cluster analysis; I'm certain that clusters will be found but perhaps the numbers may be different. But under the assumption of clusters in the dataset, I expect a random forest to work well if the data from the 2010s is drawn from the same theoretical distribution as the data in the training set, by the averaging nature of random forests.

The first challenge was extracting the data from ESPNCricInfo's StatsGuru search. This was done by looking at the relevant HTML source pages and trying to find patterns in them. Some features weren't available directly on the database, so I had to encorporate in my Python code the ability to go to each individual player page and look for those features. One example of such a feature is whether or not a player is left or right handed. I have uploaded a Jupyter Notebook with a random forest regressor that performs extremely well. Having studied the theory of linear models, I will see if I can make one when I have time!
